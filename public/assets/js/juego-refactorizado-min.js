const miModulo=(()=>{"use strict";let e=[],t=["C","D","H","S"],l=["A","J","K","K"],n=[0,0],d=document.querySelectorAll("span"),r=document.querySelectorAll(".divCartas"),a=document.getElementById("btn-pedir"),s=document.getElementById("btn-detener"),i=document.getElementById("btn-nuevo"),o=(e=2)=>{$(),n=[];for(let t=0;t<e;t++)n.push(0);d.forEach(e=>e.innerText=0),r.forEach(e=>e.innerText=""),a.disabled=!1,s.disabled=!1},$=()=>{e=[];for(let n=2;n<=10;n++)for(let d of t)e.push(n+d);for(let r of l)for(let a of t)e.push(r+a);e=_.shuffle(e)};$();let c=()=>{if(0!==e.length)return e.pop();throw"ya no quedan cartas"},u=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"==t?11:10:1*t},h=(e,t)=>(n[t]=n[t]+u(e),d[t].innerText=n[t],n[t]),b=(e,t)=>{let l=document.createElement("img");l.classList.add("carta"),l.src=`assets/cartas/${e}.png`,r[t].appendChild(l)},f=()=>{let e=c(),t=h(e,0);b(e,0),t>21?(a.disabled=!0,s.disabled=!0,p(t)):21===t&&(a.disabled=!0,s.disabled=!0,p(t))},g=()=>{let[e,t]=n;setTimeout(()=>{e>21||t<=21&&t>e?alert("Perdiste"):t>21||e<=21&&e>t?alert("Enhorabuena, ganaste"):alert("Empate")},550)},p=e=>{let t=0;do{let l=c();t=h(l,n.length-1),b(l,n.length-1)}while(t<=e&&e<=21);g()},E=()=>{a.disabled=!0,s.disabled=!0,p(n[0])},m=()=>{o()};return a.addEventListener("click",f),s.addEventListener("click",E),i.addEventListener("click",m),{nuevoJuego:o}})();